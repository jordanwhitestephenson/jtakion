(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/vcS":function(t,e,n){"use strict";n.d(e,"a",function(){return F}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return T}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return p}),n.d(e,"h",function(){return y}),n.d(e,"i",function(){return O}),n.d(e,"j",function(){return _}),n.d(e,"k",function(){return u}),n.d(e,"l",function(){return l}),n.d(e,"m",function(){return M}),n.d(e,"n",function(){return S}),n.d(e,"o",function(){return A}),n.d(e,"p",function(){return m}),n.d(e,"q",function(){return h}),n.d(e,"r",function(){return g}),n.d(e,"s",function(){return d}),n.d(e,"t",function(){return a}),n.d(e,"u",function(){return o}),n.d(e,"v",function(){return i});const i="username",s="email",a="code",u="phone",o="password",r="country-dial-code-select",h="+1",d="amplify-auth-source",c="amplify-redirected-from-hosted-ui",l="amplify-authenticator-authState",T="Phone number can not be empty",f="No Auth module found, please ensure @aws-amplify/auth is imported",S="No Storage module found, please ensure @aws-amplify/storage is imported",M="No Interactions module found, please ensure @aws-amplify/interactions is imported",p="SETUP_TOTP",A="User has not set up software token mfa",m="User has not verified software token mfa",g="SUCCESS",F="auth",O="UI Auth",y="ToastAuthError",_="AuthStateChange"},oogQ:function(t,e,n){"use strict";n.r(e),n.d(e,"amplify_select_mfa_type",function(){return c});var i=n("bRKV"),s=n("Nt7R"),a=n("JIIv"),u=n("s1tr"),o=n("v4IS"),r=n("c82j"),h=n("/vcS");const d=new s.a("SelectMFAType"),c=class{constructor(t){Object(i.k)(this,t),this.handleSubmit=t=>this.verify(t),this.TOTPSetup=!1,this.selectMessage=null,this.MFAMethod=null,this.isTOTP=!1,this.isNoMFA=!1,this.isSMS=!1,this.loading=!1}handleRadioButtonChange(t){this.TOTPSetup=!1,this.selectMessage=null,this.isNoMFA=!1,this.isTOTP=!1,this.isSMS=!1;const{value:e,type:n,checked:i}=t.target,s=["radio","checkbox"].includes(n);e===u.c.SMS&&s&&(this.isSMS=i),e===u.c.TOTP&&s&&(this.isTOTP=i),e===u.c.NOMFA&&s&&(this.isNoMFA=i)}async verify(t){t&&t.preventDefault(),d.debug("MFA Type Values",{TOTP:this.isTOTP,SMS:this.isSMS,"No MFA":this.isNoMFA}),this.isTOTP?this.MFAMethod=u.c.TOTP:this.isSMS?this.MFAMethod=u.c.SMS:this.isNoMFA&&(this.MFAMethod=u.c.NOMFA);const e=this.authData;if(!o.a||"function"!=typeof o.a.setPreferredMFA)throw new Error(h.d);this.loading=!0;try{const t=await o.a.setPreferredMFA(e,this.MFAMethod);d.debug("Set Preferred MFA Succeeded",t),this.selectMessage=`${a.a.get(r.a.SUCCESS_MFA_TYPE)} ${this.MFAMethod}`}catch(n){const{message:t}=n;t===h.o||t===h.p?(this.TOTPSetup=!0,this.selectMessage=a.a.get(r.a.SETUP_TOTP_REQUIRED)):(d.debug("Set Preferred MFA failed",n),this.selectMessage=a.a.get(r.a.UNABLE_TO_SETUP_MFA_AT_THIS_TIME))}finally{this.loading=!1}}contentBuilder(){if(!this.MFATypes||Object.keys(this.MFATypes).length<2)return d.debug(a.a.get(r.a.LESS_THAN_TWO_MFA_VALUES_MESSAGE)),Object(i.i)("div",null,Object(i.i)("a",null,a.a.get(r.a.LESS_THAN_TWO_MFA_VALUES_MESSAGE)));const{SMS:t,TOTP:e,Optional:n}=this.MFATypes;return Object(i.i)("amplify-form-section",{submitButtonText:a.a.get(r.a.SELECT_MFA_TYPE_SUBMIT_BUTTON_TEXT),headerText:a.a.get(r.a.SELECT_MFA_TYPE_HEADER_TEXT),handleSubmit:t=>this.handleSubmit(t),loading:this.loading},t?Object(i.i)("amplify-radio-button",{key:"sms",name:"MFAType",value:"SMS",label:"SMS",handleInputChange:t=>this.handleRadioButtonChange(t)}):null,e?Object(i.i)("amplify-radio-button",{key:"totp",name:"MFAType",value:"TOTP",label:"TOTP",handleInputChange:t=>this.handleRadioButtonChange(t)}):null,n?Object(i.i)("amplify-radio-button",{key:"noMFA",name:"MFAType",value:"NOMFA",label:"No MFA",handleInputChange:t=>this.handleRadioButtonChange(t)}):null)}render(){return Object(i.i)("div",null,this.contentBuilder(),this.TOTPSetup?Object(i.i)("amplify-totp-setup",{user:this.authData}):null)}}}}]);